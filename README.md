# Spring Boot Ã— MySQL Docker Sampleï¼ˆDev Container å¯¾å¿œï¼‰

## ğŸ“Œ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€Spring Boot ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ MySQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ Docker / Dev Container ä¸Šã§å‹•ä½œã•ã›ã‚‹å­¦ç¿’ç”¨ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚

ç‰¹ã«ä»¥ä¸‹ã®2æ§‹æˆã§æ¯”è¼ƒãƒ»ä½“é¨“ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼š

| æ§‹æˆ               | èª¬æ˜ |
|--------------------|------|
| ğŸ§± é€šå¸¸ã® Dockeræ§‹æˆ   | æœ¬ç•ªç’°å¢ƒã‚’æƒ³å®šã—ãŸã€Spring Boot ã® Docker å®Ÿè¡Œæ§‹æˆ |
| ğŸ› ï¸ Dev Containeræ§‹æˆ | VS Code + Dev Container ã‚’ä½¿ã£ãŸé–‹ç™ºç”¨æ§‹æˆï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯ï¼‰ |

> ğŸ”— è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ãªã©ã¯ä»¥ä¸‹ã®è¨˜äº‹ã‚’ã”å‚ç…§ãã ã•ã„ï¼š  
> ğŸ‘‰ [Docker Dev Container ã‚µãƒ³ãƒ—ãƒ«ï¼ˆWindowsç’°å¢ƒï¼‰]()

---

## ğŸ—‚ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```text
Docker-Sample/
â”œâ”€â”€ .devcontainer/                 # Dev Container ç”¨è¨­å®šï¼ˆVS Codeç”¨ï¼‰
â”‚   â”œâ”€â”€ Dockerfile                 # Java 17 + bash ç­‰ã®é–‹ç™ºç’°å¢ƒ
â”‚   â”œâ”€â”€ devcontainer.json          # DevContainerè¨­å®šï¼ˆãƒã‚¦ãƒ³ãƒˆã€æ‹¡å¼µæ©Ÿèƒ½ãªã©ï¼‰
â”‚   â””â”€â”€ docker-compose.yml         # Dev Container ç”¨ã® Composeï¼ˆdev + dbï¼‰
â”‚
â”œâ”€â”€ docker-compose.yml            # æœ¬ç•ªï¼ˆé€šå¸¸ï¼‰ç”¨ Docker Composeï¼ˆapp + dbï¼‰
â”‚
â”œâ”€â”€ app/
â”‚   â””â”€â”€ mydockersample/           # Spring Boot ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ Dockerfile            # æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰ç”¨ Dockerfile
â”‚       â”œâ”€â”€ pom.xml               # Maven è¨­å®š
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ main/
â”‚           â”‚   â”œâ”€â”€ java/com/example/demo/
â”‚           â”‚   â”‚   â”œâ”€â”€ MydockersampleApplication.java  # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚           â”‚   â”‚   â”œâ”€â”€ Message.java                    # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚           â”‚   â”‚   â”œâ”€â”€ MessageRepository.java          # ãƒªãƒã‚¸ãƒˆãƒª
â”‚           â”‚   â”‚   â”œâ”€â”€ MessageService.java             # ã‚µãƒ¼ãƒ“ã‚¹å±¤
â”‚           â”‚   â”‚   â””â”€â”€ MessageController.java          # REST API
â”‚           â”‚   â””â”€â”€ resources/
â”‚           â”‚       â”œâ”€â”€ templates/index.html            # HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚           â”‚       â””â”€â”€ application.properties          # DBè¨­å®šãªã©
â”‚           â””â”€â”€ test/                                   # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚
â””â”€â”€ db/
    â””â”€â”€ init.sql                  # MySQL åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ç”¨ SQLï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰
````

---

## ğŸ’» å‹•ä½œç’°å¢ƒ

| é …ç›®             | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»å‚™è€ƒ                |
| -------------- | ----------------------- |
| Java           | JDK 17                  |
| Spring Boot    | 3.5.4                   |
| Docker         | Docker Desktopï¼ˆWSL2 æ¨å¥¨ï¼‰ |
| Docker Compose | v3.8 ä»¥é™                 |
| é–‹ç™ºã‚¨ãƒ‡ã‚£ã‚¿         | Visual Studio Codeï¼ˆæ¨å¥¨ï¼‰  |
| æ‹¡å¼µæ©Ÿèƒ½           | Dev Containers          |

---

## ğŸš€ å®Ÿè¡Œæ–¹æ³•

### âœ… é€šå¸¸ã® Docker æ§‹æˆï¼ˆæœ¬ç•ªæƒ³å®šï¼‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ
docker-compose up --build
```

* Spring Bootï¼š`app/mydockersample` ã® Dockerfile ã§ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œ
* MySQLï¼š`db/init.sql` ã«ã‚ˆã‚ŠåˆæœŸåŒ–ï¼ˆDB: `sampledb`, ãƒ¦ãƒ¼ã‚¶ãƒ¼: `user/pass`ï¼‰
* ã‚¢ã‚¯ã‚»ã‚¹ï¼š

  * ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ â†’ [http://localhost:8081](http://localhost:8081)
  * DB â†’ `localhost:3307`ï¼ˆå¤–éƒ¨æ¥ç¶šå¯ï¼‰

---

## ğŸ”„ æ§‹æˆæ¯”è¼ƒï¼šé€šå¸¸ vs Dev Container

| é …ç›®          | é€šå¸¸æ§‹æˆï¼ˆapp + dbï¼‰    | Dev Containeræ§‹æˆï¼ˆdev + dbï¼‰       |
| ----------- | ----------------- | ------------------------------- |
| ã‚¢ãƒ—ãƒªå®Ÿè¡Œ       | Docker ã‚³ãƒ³ãƒ†ãƒŠä¸Šã§è‡ªå‹•å®Ÿè¡Œ | Dev Container ä¸Šã§æ‰‹å‹•å®Ÿè¡Œ            |
| ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ | æ¯å›å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦         | ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆmvn spring-boot\:runï¼‰ |
| ãƒ‡ãƒãƒƒã‚°ãƒ»è£œå®Œ     | éå¯¾å¿œ               | VS Code çµ±åˆãƒ‡ãƒãƒƒã‚° / è£œå®Œå¯èƒ½           |
| å¯¾è±¡ç”¨é€”        | æœ¬ç•ªãƒ»æ¤œè¨¼ç”¨            | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»å­¦ç¿’ç”¨                      |

---

## âœ… è£œè¶³

* åˆå›èµ·å‹•æ™‚ã¯ Maven ã®ä¾å­˜è§£æ±ºãŒã‚ã‚‹ãŸã‚å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚
* `init.sql` ã«ã‚ˆã‚Š DB ã¯è‡ªå‹•åˆæœŸåŒ–ã•ã‚Œã¾ã™ã€‚
* Dev Container ã® Java æ‹¡å¼µæ©Ÿèƒ½ã«ã‚ˆã‚Šã€ã‚³ãƒ¼ãƒ‰è£œå®Œã‚„ Spring Boot è£œåŠ©ãŒåŠ¹ãã¾ã™ã€‚
